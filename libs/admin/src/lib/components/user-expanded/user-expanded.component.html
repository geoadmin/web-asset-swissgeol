<form [formGroup]="editForm">
    <div class="edit-area">
        <div *ngIf="user; else createUser" class="header">
            <div class="email">
                {{ user.email }}
            </div>
            <button asset-sg-icon-button (click)="delete()" #tvDelete [viewChildMarker]="tvDelete">
                <svg-icon key="delete"></svg-icon>
            </button>
            <ng-template #deleteDialog>
                <div class="asset-sg-dialog" cdkTrapFocus [cdkTrapFocusAutoCapture]="true">
                    <div translate>userManagement.confirmDelete</div>
                    <div class="email">
                        {{ user.email }}
                    </div>
                    <div class="button-area">
                        <button asset-sg-primary (click)="deleteConfirmed()" translate>yes</button>
                        <button asset-sg-secondary cdkFocusInitial (click)="deleteCancelled()" translate>no</button>
                    </div>
                </div>
            </ng-template>
        </div>
        <ng-template #createUser>
            <div class="label-heading label-heading--before-form-field label-email" translate>auth.email</div>
            <mat-form-field class="email-form-field">
                <mat-label translate>auth.email</mat-label>
                <input matInput type="email" formControlName="email" />
            </mat-form-field>
        </ng-template>
        <label id="role">Rolle</label>
        <mat-radio-group class="roles-radio-group" aria-labelledby="role" formControlName="role">
            <mat-radio-button [value]="UserRole.admin">Admin</mat-radio-button>
            <mat-radio-button [value]="UserRole.viewer">Viewer</mat-radio-button>
            <mat-radio-button [value]="UserRole.editor">Editor</mat-radio-button>
            <mat-radio-button [value]="UserRole.masterEditor">Master Editor</mat-radio-button>
        </mat-radio-group>
        <div class="label-heading label-heading--before-form-field">Sprache</div>
        <mat-form-field class="lang-form-field">
            <mat-label>Sprache</mat-label>
            <mat-select formControlName="lang">
                <mat-option value="de">DE</mat-option>
                <mat-option value="en">EN</mat-option>
                <mat-option value="fr">FR</mat-option>
                <mat-option value="it">IT</mat-option>
                <mat-option value="rm">RM</mat-option>
            </mat-select>
        </mat-form-field>
        <div class="button-area">
            <button asset-sg-primary (click)="submit()" #tvSubmit [viewChildMarker]="tvSubmit" translate>ok</button>
            <button asset-sg-secondary (click)="cancel()" #tvCancel [viewChildMarker]="tvCancel" translate>
                cancel
            </button>
        </div>
    </div>
</form>
